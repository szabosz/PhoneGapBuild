<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Interactive Story App by Szerena</title>

<!-- Welcome to ZIM at https://zimjs.com - Code Creativity!                              -->
<!-- ZIM runs on the HTML Canvas powered by JavaScript and CreateJS https://createjs.com -->
<!-- Founded by Inventor Dan Zen - http://danzen.com - Canadian New Media Award Winner   -->
<!-- ZIM is free to use. You can donate to help improve ZIM at https://zimjs.com/donate  -->

<script src="https://d309knd7es5f10.cloudfront.net/createjs_1.1_min.js"></script>
<script src="https://d309knd7es5f10.cloudfront.net/zim_10.js"></script>
<!-- use zimjs.com/distill for minified individual functions! -->

<script>

// SCALING OPTIONS
// scaling can have values as follows with full being the default
// "fit"	sets canvas and stage to dimensions and scales to fit inside window size
// "outside"	sets canvas and stage to dimensions and scales to fit outside window size
// "full"	sets stage to window size with no scaling
// "tagID"	add canvas to HTML tag of ID - set to dimensions if provided - no scaling
const assets = [
	"1.png",
	"2.png",
	"3.png",
	"4.png",
	"5.png",
	"6.png",
	"7.png",
	"speech.png",
	"speech2.png",
	"sun.png",
	"home.png",
	"sparkle.png",
	"heart.png"
];

const path = "assets/";
const color = light; // ZIM colors like green, blue, pink, faint, clear, etc.
const outerColor = dark; // any HTML colors like "violet", "#333", etc. are fine to use

const frame = new Frame({color, outerColor, assets, path}); // es6 object property value match
frame.on("ready", () => {
    
    zog("ready from ZIM Frame"); // logs in console (F12 - choose console)

    const stage = frame.stage;
    let stageW = frame.width;
	let stageH = frame.height;
	
	function layoutsize(header, content) {
	var layout = new Layout(stage,[
			{object:header, minHeight:10, marginTop:15, maxWidth:80},
			{object:content, minHeight:10, marginTop:5, maxWidth:500}
		], 5, null, true, new Shape());

	frame.on("resize", resize);
	function resize(e) {
		stageW = frame.width;
		stageH = frame.height;

		// resize the layout
		layout.resize();
		stage.update();
	}
	resize(); // often want to call resize after page is made

	stage.update();
}

	// Menu
	const menu = new Container(stageW, stageH);
    const backMenu = new Rectangle(stageW, stageH, "#38b6ff").addTo(menu);

	var menuHeader = new Container().addTo(menu);
	var menuTitle = new Label("Menu", 40, "Arial", "white").addTo(menuHeader).center();
	
	var menuContent = new Container()
		.addTo(menu);
	
	var listItem1 = new Label({
		text:"The Dog That Found Family",
		size:18,
		font:"arial",
		color:"white"
	});

	var menuList = new List({
		list:[listItem1],
		viewNum:5,
	}).addTo(menuContent).center();

	listItem1.on("mousedown", function(){
		const menuSwipe = new Pages([
			{page:menu, swipe:[null, page1]}
		], "slide").addTo();
	});

	layoutsize(menuHeader, menuContent);
	
	// PAGE 1
    const page1 = new Container(stageW, stageH);
    const back1 = new Rectangle(stageW, stageH, blue).addTo(page1);

	var header1 = new Container().addTo(page1);
	var title1 = new Label("There once was a dog with no family. ", 40, "Courier", "white").addTo(header1).center();
	
	var content1 = new Container()
		.addTo(page1);

	var img1 = frame.asset("1.png").addTo(content1).center();
	var speech = frame.asset("speech.png").addTo(content1).scaleTo(img1, 50).pos(-50,10);

	img1.on("mouseover", function(){
            speech.wiggle("x", speech.x, 10, 40)
        });

	layoutsize(header1, content1);
	
	// PAGE 2
    const page2 = new Container(stageW, stageH);
    const back2 = new Rectangle(stageW, stageH, blue).addTo(page2);

	var header2 = new Container().addTo(page2);
	var title2 = new Label("He loved playing in the sun.", 40, "Courier", "white").addTo(header2).center();
	
	var content2 = new Container()
		.addTo(page2);

	var sun = frame.asset("sun.png").addTo(content2);
	var img2 = frame.asset("2.png").addTo(content2).center();
	sun.scaleTo(img2, 90).pos(-50,0);

	img2.on("mouseover", function(){
            sun.animate({
			props:{rotation:-60, scale:1}, 
			time:1500,
			ease:"backOut",
			from:true
		});
    });

	layoutsize(header2, content2);

	// PAGE 3
    const page3 = new Container(stageW, stageH);
    const back3 = new Rectangle(stageW, stageH, blue).addTo(page3);

	var header3 = new Container().addTo(page3);
	var title3 = new Label("Everyday he played alone hoping \n \n he would find a place to call home.", 40, "Courier", "white").addTo(header3).center();
	
	var content3 = new Container()
		.addTo(page3);

	var img3 = frame.asset("3.png").addTo(content3).center();
	var home = frame.asset("home.png").addTo(content3).scaleTo(img3, 50).pos(-50,10);

	img3.on("mouseover", function(){
            home.animate({
			props:{alpha:0},
			time:2000,
			rewind:false,
			loop:true,
			loopCount:1
		});
	});

	layoutsize(header3, content3);


	// PAGE 4
	const page4 = new Container(stageW, stageH);
    const back4 = new Rectangle(stageW, stageH, blue).addTo(page4);

	var header4 = new Container().addTo(page4);
	var title4 = new Label("“Maybe this hole would make a nice home?” \n \n he thought to himself. But it was a lonely hole.", 40, "Courier", "white").addTo(header4).center();
	
	var content4 = new Container()
		.addTo(page4);

	var img4 = frame.asset("4.png").addTo(content4).center();
	var sparkle = frame.asset("sparkle.png").addTo(content4).scaleTo(img4, 90).pos(-50,10);

	img4.on("mouseover", function(){
		sparkle.animate({
			props:{alpha:0},
			time:500,
			rewind:true,
			loop:true,
			loopCount:10
		});
	});

	layoutsize(header4, content4);


	// PAGE 5
	const page5 = new Container(stageW, stageH);
    const back5 = new Rectangle(stageW, stageH, blue).addTo(page5);

	var header5 = new Container().addTo(page5);
	var title5 = new Label("He roamed all the streets, but they were empty…", 40, "Courier", "white").addTo(header5).center();
	
	var content5 = new Container()
		.addTo(page5);

	var img5 = frame.asset("5.png").addTo(content5).center();
	var speech2 = frame.asset("speech2.png").addTo(content5).scaleTo(img5, 50).pos(-50,10);

	img5.on("mouseover", function(){
		speech2.animate({
			props:{alpha:0},
			time:2000,
			rewind:false,
			loop:true,
			loopCount:1
		});
	});

	layoutsize(header5, content5);


	// PAGE 6
	const page6 = new Container(stageW, stageH);
    const back6 = new Rectangle(stageW, stageH, blue).addTo(page6);

	var header6 = new Container().addTo(page6);
	var title6 = new Label("He then spotted a girl.", 40, "Courier", "white").addTo(header6).center();
	
	var content6 = new Container()
		.addTo(page6);

	var img6 = frame.asset("6.png").addTo(content6).center();
	var heart = frame.asset("heart.png").addTo(content6).scaleTo(img6, 40).pos(-50,10);

	img6.on("mouseover", function(){
		heart.animate({
			props:{alpha:0},
			time:500,
			rewind:true,
			loop:true,
			loopCount:10
		});
	});

	layoutsize(header6, content6);

	// PAGE 7
	const page7 = new Container(stageW, stageH);
    const back7 = new Rectangle(stageW, stageH, blue).addTo(page7);

	var header7 = new Container().addTo(page7);
	var title7 = new Label("And they became a family.", 40, "Courier", "white").addTo(header7).center();
	
	var content7 = new Container()
		.addTo(page7);

	var img7 = frame.asset("7.png").addTo(content7).center();

	img7.on("mouseover", function(){
        home.addTo(content7).scaleTo(img7, 50).center().pos(-50,10);
	});

	layoutsize(header7, content7);

    // LAYOUT
    const pages = new Pages([
		{page:menu, swipe:[page7, page1]},
		{page:page1, swipe:[menu, page2]}, 
        {page:page2, swipe:[page1, page3]},
        {page:page3, swipe:[page2, page4]},
        {page:page4, swipe:[page3, page5]},
        {page:page5, swipe:[page4, page6]},
        {page:page6, swipe:[page5, page7]},
        {page:page7, swipe:[page6, menu]}, 
        // {page:menu, swipe:[page7, page1]}
    ], "slide").addTo();
    
    frame.on("resize", () => {
        back1.scaleTo(stage, 100, 100, "both");
        back2.scaleTo(stage, 100, 100, "both");
        back3.scaleTo(stage, 100, 100, "both");
        back4.scaleTo(stage, 100, 100, "both");
        back5.scaleTo(stage, 100, 100, "both");
        back6.scaleTo(stage, 100, 100, "both");
        back7.scaleTo(stage, 100, 100, "both");
        backMenu.scaleTo(stage, 100, 100, "both");
        pages.resize();
        stage.update();
    });

    stage.update(); // this is needed to show any changes

}); // end of ready

</script>

<meta name="viewport" content="width=device-width, user-scalable=no" />

</head>

<body>
<!-- canvas with id="myCanvas" is made by zim Frame -->
</body>
</html>